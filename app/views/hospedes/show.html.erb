<% content_for :title, "Hóspede: #{@hospede.nome}" %>

<div class="page-header">
	<div class="stack-sm">
		<span class="page-eyebrow"><i class="bi bi-person-badge"></i> Perfil</span>
		<h1 class="page-header__title"><%= @hospede.nome %></h1>
		<% if @hospede.email.present? %>
			<p class="page-header__subtitle"><%= @hospede.email %></p>
		<% end %>
	</div>
	<div class="page-actions">
		<%= link_to 'Editar hóspede', edit_hospede_path(@hospede), class: "btn btn-outline-secondary" %>
		<%= link_to 'Voltar para lista', hospedes_path, class: "btn btn-gradient" %>
	</div>
</div>

<div class="detail-layout">
	<div class="detail-card">
		<span class="badge-gradient badge detail-card__badge">Ficha do hóspede</span>
		<dl class="detail-list">
			<dt>Documento</dt>
			<dd><%= @hospede.documento %></dd>
			<dt>Email</dt>
			<dd><%= @hospede.email %></dd>
			<dt>Telefone</dt>
			<dd><%= @hospede.telefone %></dd>
			<dt>Status do telefone</dt>
			<dd>
				<% if @hospede.phone_verified? %>
					<span class="badge bg-success-subtle text-success">Verificado</span>
				<% else %>
					<span class="badge bg-warning-subtle text-warning">Pendente</span>
				<% end %>
			</dd>
		</dl>
	</div>

	<aside class="action-panel">
		<span class="action-panel__title">Fluxos rápidos</span>
		<%= link_to reservas_path(hospede_id: @hospede.id), class: "btn btn-outline-secondary d-flex justify-content-between align-items-center" do %>
			<span>Ver reservas dele</span>
			<i class="bi bi-calendar-check"></i>
		<% end %>
		<%= link_to new_reserva_path, class: "btn btn-outline-secondary d-flex justify-content-between align-items-center" do %>
			<span>Gerar nova reserva</span>
			<i class="bi bi-plus-circle"></i>
		<% end %>
		<% unless @hospede.phone_verified? %>
			<%= link_to confirm_phone_hospede_path(@hospede), class: "btn btn-outline-secondary d-flex justify-content-between align-items-center" do %>
				<span>Confirmar telefone (demo)</span>
				<i class="bi bi-shield-check"></i>
			<% end %>
		<% end %>
		<%= button_to 'Excluir hóspede', hospede_path(@hospede), method: :delete, class: "btn btn-outline-danger w-100", form: { class: "w-100" }, data: { turbo_confirm: 'Tem certeza que deseja excluir?' } %>
	</aside>
</div>
