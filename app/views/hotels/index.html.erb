<% content_for :title, "Hotéis" %>

<div class="page-header">
  <div class="stack-sm">
    <span class="page-eyebrow"><i class="bi bi-building"></i> Portfólio</span>
    <h1 class="page-header__title">Hotéis</h1>
    <p class="page-header__subtitle">Gerencie o inventário de unidades boutique, atualizando informações em segundos.</p>
  </div>
  <div class="page-actions">
    <%= link_to 'Novo hotel', new_hotel_path, class: "btn btn-gradient" %>
  </div>
</div>

<div class="surface-card surface-card--compact filters-card">
  <%= form_with url: hotels_path, method: :get, local: true, scope: nil, class: "row g-3 align-items-end" do |f| %>
    <div class="col-12 col-md-4">
      <%= f.label :nome, "Nome", class: "form-label" %>
      <%= f.text_field :nome, value: params[:nome], class: "form-control" %>
    </div>

    <div class="col-12 col-md-4">
      <%= f.label :cidade, "Cidade", class: "form-label" %>
      <%= f.text_field :cidade, value: params[:cidade], class: "form-control" %>
    </div>

    <div class="col-12 col-md-4 col-xl-3">
      <%= f.label :categoria, "Categoria", class: "form-label" %>
      <%= f.select :categoria, options_for_select(['Luxo','Praia','Montanha','Urbano','Campo'], params[:categoria]), { include_blank: "Todas" }, class: "form-select" %>
    </div>

    <div class="col-12 col-xl-5 col-xxl-3 d-flex gap-2">
      <%= f.submit "Pesquisar", class: "btn btn-outline-secondary flex-grow-1" %>
      <%= link_to "Limpar", hotels_path, class: "btn btn-outline-secondary" %>
    </div>
  <% end %>
</div>

<div class="surface-card surface-card--flush table-card">
  <div class="table-card__header">
    <h2 class="table-card__title">Lista de hotéis</h2>
    <span class="text-muted small"><%= pluralize(@hotels.count, "registro") %> exibidos</span>
  </div>

  <% if @hotels.any? %>
    <div class="table-card__body">
      <div class="table-responsive">
        <table class="table align-middle">
          <thead>
            <tr>
              <th scope="col">Nome</th>
              <th scope="col">Cidade</th>
              <th scope="col">Endereço</th>
              <th scope="col">Telefone</th>
              <th scope="col">Categoria</th>
              <th scope="col" class="text-end">Ações</th>
            </tr>
          </thead>
          <tbody>
            <% @hotels.each do |hotel| %>
              <tr>
                <td><%= hotel.nome %></td>
                <td><%= hotel.cidade %></td>
                <td><%= hotel.endereco %></td>
                <td><%= hotel.telefone %></td>
                <td><%= hotel.categoria %></td>
                <td class="text-end">
                  <div class="d-inline-flex gap-2">
                    <%= link_to 'Ver', hotel_path(hotel), class: "btn btn-outline-secondary btn-sm" %>
                    <%= link_to 'Editar', edit_hotel_path(hotel), class: "btn btn-outline-secondary btn-sm" %>
                    <%= button_to 'Excluir', hotel_path(hotel), method: :delete, form: { class: "d-inline" }, class: "btn btn-outline-danger btn-sm", data: { turbo_confirm: 'Tem certeza que deseja excluir este hotel?' } %>
                  </div>
                </td>
              </tr>
            <% end %>
          </tbody>
        </table>
      </div>
    </div>
  <% else %>
    <div class="empty-state">
      <div class="empty-state__icon"><i class="bi bi-geo"></i></div>
      <p class="mb-2">Nenhum hotel encontrado.</p>
      <%= link_to 'Cadastrar primeiro hotel', new_hotel_path, class: "btn btn-gradient" %>
    </div>
  <% end %>
</div>

<%= render "shared/pagination", collection: @hotels %>

<div class="mt-4">
  <%= link_to "Página inicial", home_path, class: "btn btn-link px-0" %>
</div>

